# ğŸŒ¸ Idol Stage Timetable - Idol Stage Event

à¸£à¸°à¸šà¸šà¸›à¸à¸´à¸—à¸´à¸™à¸à¸´à¸ˆà¸à¸£à¸£à¸¡ Idol Stage à¸ªà¸³à¸«à¸£à¸±à¸šà¸‡à¸²à¸™ Idol Stage Event

**Theme**: Sakura (æ¡œ) - à¸˜à¸µà¸¡à¸”à¸­à¸à¸‹à¸²à¸à¸¸à¸£à¸°à¸ªà¹„à¸•à¸¥à¹Œà¸à¸µà¹ˆà¸›à¸¸à¹ˆà¸™

## âœ¨ à¸„à¸¸à¸“à¸ªà¸¡à¸šà¸±à¸•à¸´

### à¸ªà¸³à¸«à¸£à¸±à¸šà¸œà¸¹à¹‰à¹ƒà¸Šà¹‰à¸‡à¸²à¸™
- ğŸŒ¸ **Sakura Theme** - à¸˜à¸µà¸¡à¸ªà¸µà¸Šà¸¡à¸à¸¹à¸‹à¸²à¸à¸¸à¸£à¸°à¸ªà¹„à¸•à¸¥à¹Œà¸à¸µà¹ˆà¸›à¸¸à¹ˆà¸™
- ğŸŒ **3 à¸ à¸²à¸©à¸²** - à¹„à¸—à¸¢, English, æ—¥æœ¬èª (à¸à¸£à¹‰à¸­à¸¡ html lang attribute)
- ğŸ“± **Responsive Design** - à¸£à¸­à¸‡à¸£à¸±à¸šà¸—à¸¸à¸à¸‚à¸™à¸²à¸”à¸«à¸™à¹‰à¸²à¸ˆà¸­ à¸£à¸§à¸¡à¸–à¸¶à¸‡ iOS
- ğŸ“Š **Dual View Modes** - à¸ªà¸¥à¸±à¸šà¸¡à¸¸à¸¡à¸¡à¸­à¸‡ List / Gantt Chart Timeline
- ğŸ” **à¸à¸£à¸­à¸‡à¸‚à¹‰à¸­à¸¡à¸¹à¸¥** - à¸•à¸²à¸¡à¸¨à¸´à¸¥à¸›à¸´à¸™/à¸§à¸‡ à¹à¸¥à¸°à¹€à¸§à¸—à¸µ (à¸£à¸­à¸‡à¸£à¸±à¸šà¸«à¸¥à¸²à¸¢à¸„à¹ˆà¸²)
- ğŸ“¸ **à¸šà¸±à¸™à¸—à¸¶à¸à¹€à¸›à¹‡à¸™à¸£à¸¹à¸›à¸ à¸²à¸** - Lazy-load html2canvas (PNG)
- ğŸ“… **Export ICS** - à¸ªà¹ˆà¸‡à¸­à¸­à¸à¹€à¸›à¹‡à¸™à¹„à¸Ÿà¸¥à¹Œà¸›à¸à¸´à¸—à¸´à¸™ (Google Calendar / Apple Calendar)
- ğŸ“ **Request System** - à¸œà¸¹à¹‰à¹ƒà¸Šà¹‰à¹à¸ˆà¹‰à¸‡à¹€à¸à¸´à¹ˆà¸¡/à¹à¸à¹‰à¹„à¸‚ event à¹„à¸”à¹‰ + Admin à¸­à¸™à¸¸à¸¡à¸±à¸•à¸´
- ğŸª **Multi-Event Support** - à¸£à¸­à¸‡à¸£à¸±à¸šà¸«à¸¥à¸²à¸¢ conventions/events à¹ƒà¸™à¸£à¸°à¸šà¸šà¹€à¸”à¸µà¸¢à¸§ à¹€à¸¥à¸·à¸­à¸à¸œà¹ˆà¸²à¸™ URL à¸«à¸£à¸·à¸­ dropdown

### à¸ªà¸³à¸«à¸£à¸±à¸š Admin
- ğŸ› ï¸ **Setup Wizard** - (`setup.php`) à¸•à¸´à¸”à¸•à¸±à¹‰à¸‡à¸£à¸°à¸šà¸š fresh install + maintenance à¹à¸šà¸š 5 à¸‚à¸±à¹‰à¸™à¸•à¸­à¸™ + lock/unlock
- âš™ï¸ **Admin UI** - à¸ˆà¸±à¸”à¸à¸²à¸£ events, requests, credits à¹à¸¥à¸° conventions à¸œà¹ˆà¸²à¸™à¸«à¸™à¹‰à¸²à¹€à¸§à¹‡à¸š (CRUD)
- ğŸª **Events Management** - Tab "Events" à¸ªà¸³à¸«à¸£à¸±à¸šà¸ˆà¸±à¸”à¸à¸²à¸£à¸«à¸¥à¸²à¸¢à¸‡à¸²à¸™ (CRUD)
- ğŸ” **Database Auth** - Admin credentials à¹ƒà¸™ SQLite à¸£à¸­à¸‡à¸£à¸±à¸šà¸«à¸¥à¸²à¸¢ users + à¹€à¸›à¸¥à¸µà¹ˆà¸¢à¸™à¸£à¸«à¸±à¸ªà¸œà¹ˆà¸²à¸™à¸œà¹ˆà¸²à¸™ UI
- ğŸ’¾ **Backup/Restore** - à¸ªà¸³à¸£à¸­à¸‡/à¸à¸¹à¹‰à¸„à¸·à¸™à¸à¸²à¸™à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸œà¹ˆà¸²à¸™ Admin UI à¸à¸£à¹‰à¸­à¸¡ auto-backup à¸à¹ˆà¸­à¸™ restore
- ğŸ“¦ **Bulk Operations** - à¹€à¸¥à¸·à¸­à¸à¸«à¸¥à¸²à¸¢ events/credits à¹à¸¥à¹‰à¸§à¸¥à¸šà¸«à¸£à¸·à¸­à¹à¸à¹‰à¹„à¸‚à¸à¸£à¹‰à¸­à¸¡à¸à¸±à¸™ (à¸ªà¸¹à¸‡à¸ªà¸¸à¸” 100)
- ğŸ“¤ **ICS Upload** - à¸­à¸±à¸à¹‚à¸«à¸¥à¸”à¹„à¸Ÿà¸¥à¹Œ .ics à¸à¸£à¹‰à¸­à¸¡ preview à¸à¹ˆà¸­à¸™ import
- ğŸ¯ **Flexible Venue Entry** - à¸à¸´à¸¡à¸à¹Œà¹€à¸§à¸—à¸µà¹ƒà¸«à¸¡à¹ˆà¹„à¸”à¹‰ à¸à¸£à¹‰à¸­à¸¡ autocomplete
- ğŸ“Š **Customizable Pagination** - à¹€à¸¥à¸·à¸­à¸à¹à¸ªà¸”à¸‡ 20/50/100 à¸£à¸²à¸¢à¸à¸²à¸£à¸•à¹ˆà¸­à¸«à¸™à¹‰à¸²
- ğŸ“‹ **Credits Management** - à¸ˆà¸±à¸”à¸à¸²à¸£ credits/references à¸œà¹ˆà¸²à¸™ admin panel
- ğŸ“ **Request Management** - à¸”à¸¹/à¸­à¸™à¸¸à¸¡à¸±à¸•à¸´/à¸›à¸à¸´à¹€à¸ªà¸˜ à¸„à¸³à¸‚à¸­à¸ˆà¸²à¸à¸œà¸¹à¹‰à¹ƒà¸Šà¹‰
- ğŸ‘¤ **User Management** - à¸ˆà¸±à¸”à¸à¸²à¸£ admin users (CRUD) à¸à¸£à¹‰à¸­à¸¡ role-based access control
- ğŸ›¡ï¸ **Role-Based Access** - 2 roles: admin (full access) / agent (programs management only)

### à¹€à¸—à¸„à¸™à¸´à¸„
- âš¡ **SQLite Database** - à¸›à¸£à¸°à¸ªà¸´à¸—à¸˜à¸´à¸ à¸²à¸à¸ªà¸¹à¸‡
- ğŸª **Multi-Event Architecture** - à¸•à¸²à¸£à¸²à¸‡ `events` (meta) + `event_id` FK à¹ƒà¸™ programs, program_requests, credits
- ğŸ”„ **Cache System** - Cache à¸ªà¸³à¸«à¸£à¸±à¸š data version à¹à¸¥à¸° credits à¹à¸¢à¸à¸•à¸²à¸¡ convention
- ğŸŸï¸ **Venue Mode** - à¸ªà¸¥à¸±à¸šà¹‚à¸«à¸¡à¸” multi/single venue à¹à¸¢à¸à¸•à¸²à¸¡ convention à¹„à¸”à¹‰
- ğŸ”’ **Security** - XSS protection, CSRF tokens, rate limiting, IP whitelist, security headers
- ğŸ³ **Docker Support** - Deploy à¸”à¹‰à¸§à¸¢ Docker Compose à¸„à¸³à¸ªà¸±à¹ˆà¸‡à¹€à¸”à¸µà¸¢à¸§
- ğŸ”— **Clean URLs** - à¸¥à¸š .php extension à¸ˆà¸²à¸ public URLs à¸à¸£à¹‰à¸­à¸¡ .htaccess à¹à¸¥à¸° Nginx config
- ğŸ“… **Date Jump Bar** - à¹à¸–à¸šà¸à¸£à¸°à¹‚à¸”à¸”à¹„à¸›à¸§à¸±à¸™à¸—à¸µà¹ˆà¸•à¹‰à¸­à¸‡à¸à¸²à¸£ (fixed-position, IntersectionObserver)
- ğŸ§ª **340 Automated Tests** - à¸œà¹ˆà¸²à¸™à¸—à¸±à¹‰à¸‡à¸«à¸¡à¸”à¸šà¸™ PHP 8.1, 8.2, 8.3

## ğŸš€ à¸à¸²à¸£à¸•à¸´à¸”à¸•à¸±à¹‰à¸‡

### à¸„à¸§à¸²à¸¡à¸•à¹‰à¸­à¸‡à¸à¸²à¸£
- **Docker** (à¹à¸™à¸°à¸™à¸³) à¸«à¸£à¸·à¸­
- **PHP 8.1+** (à¸—à¸”à¸ªà¸­à¸šà¸šà¸™ PHP 8.1, 8.2, 8.3) à¸à¸£à¹‰à¸­à¸¡ PDO SQLite à¹à¸¥à¸° mbstring extension
- **Web Server** (Apache, Nginx, à¸«à¸£à¸·à¸­ PHP Built-in Server)

### ğŸ³ à¸§à¸´à¸˜à¸µà¸—à¸µà¹ˆ 1: Docker (à¹à¸™à¸°à¸™à¸³)

```bash
# 1. Clone repository
cd stage-idol-calendar

# 2. à¸§à¸²à¸‡à¹„à¸Ÿà¸¥à¹Œ ICS à¹ƒà¸™à¹‚à¸Ÿà¸¥à¹€à¸”à¸­à¸£à¹Œ ics/
cp your-events.ics ics/

# 3. Start à¸”à¹‰à¸§à¸¢ Docker Compose
docker-compose up -d

# 4. à¹€à¸›à¸´à¸”à¹€à¸§à¹‡à¸šà¹„à¸‹à¸•à¹Œ
# http://localhost:8000
```

**à¹€à¸—à¹ˆà¸²à¸™à¸µà¹‰à¸à¹‡à¹€à¸£à¸µà¸¢à¸šà¸£à¹‰à¸­à¸¢!** ğŸ‰ à¸”à¸¹à¸„à¸¹à¹ˆà¸¡à¸·à¸­à¹€à¸à¸´à¹ˆà¸¡à¹€à¸•à¸´à¸¡à¸—à¸µà¹ˆ [DOCKER.md](DOCKER.md)

---

### ğŸ’» à¸§à¸´à¸˜à¸µà¸—à¸µà¹ˆ 2: PHP Built-in Server

1. **à¸§à¸²à¸‡à¹„à¸Ÿà¸¥à¹Œ** à¹ƒà¸™à¹‚à¸Ÿà¸¥à¹€à¸”à¸­à¸£à¹Œà¹€à¸§à¹‡à¸šà¹„à¸‹à¸•à¹Œ

2. **à¸§à¸²à¸‡à¹„à¸Ÿà¸¥à¹Œ ICS** à¹ƒà¸™à¹‚à¸Ÿà¸¥à¹€à¸”à¸­à¸£à¹Œ `ics/`

3. **Import à¸‚à¹‰à¸­à¸¡à¸¹à¸¥** (à¹à¸™à¸°à¸™à¸³):
   ```bash
   cd tools
   php import-ics-to-sqlite.php
   ```

4. **à¹€à¸›à¸´à¸”à¹€à¸§à¹‡à¸šà¹„à¸‹à¸•à¹Œ**:
   ```bash
   php -S localhost:8000
   ```
   à¹€à¸›à¸´à¸” `http://localhost:8000`

## ğŸ“ à¹‚à¸„à¸£à¸‡à¸ªà¸£à¹‰à¸²à¸‡à¹„à¸Ÿà¸¥à¹Œ

```
stage-idol-calendar/
â”œâ”€â”€ index.php              # à¸«à¸™à¹‰à¸²à¸«à¸¥à¸±à¸
â”œâ”€â”€ how-to-use.php         # à¸§à¸´à¸˜à¸µà¹ƒà¸Šà¹‰à¸‡à¸²à¸™
â”œâ”€â”€ contact.php            # à¸•à¸´à¸”à¸•à¹ˆà¸­à¹€à¸£à¸²
â”œâ”€â”€ credits.php            # à¸«à¸™à¹‰à¸² Credits & References
â”œâ”€â”€ export.php             # Export ICS
â”œâ”€â”€ api.php                # Public API endpoint
â”œâ”€â”€ config.php             # Bootstrap file (à¹‚à¸«à¸¥à¸” config/ à¹à¸¥à¸° functions/)
â”œâ”€â”€ IcsParser.php          # ICS Parser class
â”œâ”€â”€ .htaccess              # Apache clean URL rewrite rules
â”œâ”€â”€ nginx-clean-url.conf   # Nginx clean URL config example
â”‚
â”œâ”€â”€ config/                # Configuration constants
â”‚   â”œâ”€â”€ app.php            # Application settings & version
â”‚   â”œâ”€â”€ admin.php          # Admin & authentication
â”‚   â”œâ”€â”€ security.php       # Security & rate limiting
â”‚   â”œâ”€â”€ database.php       # Database configuration
â”‚   â””â”€â”€ cache.php          # Cache settings (data version + credits)
â”‚
â”œâ”€â”€ functions/             # Helper functions
â”‚   â”œâ”€â”€ helpers.php        # General utilities
â”‚   â”œâ”€â”€ cache.php          # Cache functions (get_data_version, get_cached_credits, etc.)
â”‚   â”œâ”€â”€ admin.php          # Auth functions (login, session, CSRF, role-based access)
â”‚   â””â”€â”€ security.php       # Security functions (sanitize, headers, IP whitelist)
â”‚
â”œâ”€â”€ data/                  # Database storage
â”‚   â””â”€â”€ calendar.db        # SQLite database
â”‚
â”œâ”€â”€ backups/               # Backup storage (auto-created)
â”‚   â””â”€â”€ backup_*.db        # Backup files
â”‚
â”œâ”€â”€ cache/                 # Cache storage (auto-created)
â”‚   â”œâ”€â”€ data_version.json  # Data version cache
â”‚   â””â”€â”€ credits.json       # Credits cache
â”‚
â”œâ”€â”€ styles/                # Shared CSS
â”‚   â””â”€â”€ common.css         # Sakura theme styles
â”‚
â”œâ”€â”€ js/                    # Shared JavaScript
â”‚   â”œâ”€â”€ translations.js    # à¸‚à¹‰à¸­à¸„à¸§à¸²à¸¡ 3 à¸ à¸²à¸©à¸²
â”‚   â””â”€â”€ common.js          # à¸Ÿà¸±à¸‡à¸à¹Œà¸Šà¸±à¸™à¸à¸¥à¸²à¸‡
â”‚
â”œâ”€â”€ ics/                   # à¹„à¸Ÿà¸¥à¹Œ ICS data
â”‚   â””â”€â”€ *.ics
â”‚
â”œâ”€â”€ api/                   # Public APIs
â”‚   â””â”€â”€ request.php        # Request to Add/Modify API
â”‚
â”œâ”€â”€ admin/                 # Admin UI (login required)
â”‚   â”œâ”€â”€ index.php          # Admin dashboard (Events + Requests + Credits + Conventions + Users + Backup)
â”‚   â”œâ”€â”€ api.php            # CRUD API endpoints (events + requests + credits + conventions + users + ICS upload + backup)
â”‚   â””â”€â”€ login.php          # Login page
â”‚
â”œâ”€â”€ tests/                 # Automated test suite
â”‚   â”œâ”€â”€ TestRunner.php     # Lightweight test framework (20 assertion methods)
â”‚   â”œâ”€â”€ run-tests.php      # Test runner with colored output
â”‚   â”œâ”€â”€ SecurityTest.php   # Security tests (7 tests)
â”‚   â”œâ”€â”€ CacheTest.php      # Cache tests (17 tests)
â”‚   â”œâ”€â”€ AdminAuthTest.php  # Auth tests (38 tests)
â”‚   â”œâ”€â”€ CreditsApiTest.php # Credits API tests (49 tests)
â”‚   â”œâ”€â”€ IntegrationTest.php # Integration tests (97 tests)
â”‚   â”œâ”€â”€ UserManagementTest.php # User management & role tests (116 tests)
â”‚   â””â”€â”€ ThemeTest.php      # Theme system tests (16 tests)
â”‚
â”œâ”€â”€ tools/                 # Development tools
â”‚   â”œâ”€â”€ import-ics-to-sqlite.php
â”‚   â”œâ”€â”€ update-ics-categories.php
â”‚   â”œâ”€â”€ migrate-add-requests-table.php
â”‚   â”œâ”€â”€ migrate-add-credits-table.php
â”‚   â”œâ”€â”€ migrate-add-events-meta-table.php
â”‚   â”œâ”€â”€ migrate-add-admin-users-table.php
â”‚   â”œâ”€â”€ migrate-add-role-column.php
â”‚   â”œâ”€â”€ migrate-rename-tables-columns.php
â”‚   â”œâ”€â”€ migrate-add-indexes.php
â”‚   â”œâ”€â”€ generate-password-hash.php
â”‚   â”œâ”€â”€ debug-parse.php
â”‚   â””â”€â”€ test-parse.php
â”‚
â”œâ”€â”€ Dockerfile             # Docker image configuration
â”œâ”€â”€ docker-compose.yml     # Production Docker Compose
â”œâ”€â”€ docker-compose.dev.yml # Development Docker Compose
â”œâ”€â”€ .dockerignore          # Docker build exclusions
â”‚
â”œâ”€â”€ README.md              # à¹€à¸­à¸à¸ªà¸²à¸£à¸«à¸¥à¸±à¸ (English)
â”œâ”€â”€ QUICKSTART.md          # à¸„à¸¹à¹ˆà¸¡à¸·à¸­à¹€à¸£à¸´à¹ˆà¸¡à¸•à¹‰à¸™à¹€à¸£à¹‡à¸§
â”œâ”€â”€ INSTALLATION.md        # à¸„à¸¹à¹ˆà¸¡à¸·à¸­à¸à¸²à¸£à¸•à¸´à¸”à¸•à¸±à¹‰à¸‡à¹‚à¸”à¸¢à¸¥à¸°à¹€à¸­à¸µà¸¢à¸”
â”œâ”€â”€ DOCKER.md              # à¸„à¸¹à¹ˆà¸¡à¸·à¸­ Docker
â”œâ”€â”€ CHANGELOG.md           # à¸›à¸£à¸°à¸§à¸±à¸•à¸´à¸à¸²à¸£à¹€à¸›à¸¥à¸µà¹ˆà¸¢à¸™à¹à¸›à¸¥à¸‡
â”œâ”€â”€ TESTING.md             # Manual testing checklist (129 test cases)
â”œâ”€â”€ SQLITE_MIGRATION.md    # à¸„à¸¹à¹ˆà¸¡à¸·à¸­ migration database
â”œâ”€â”€ SECURITY.md            # à¸™à¹‚à¸¢à¸šà¸²à¸¢à¸„à¸§à¸²à¸¡à¸›à¸¥à¸­à¸”à¸ à¸±à¸¢
â”œâ”€â”€ CONTRIBUTING.md        # à¹à¸™à¸§à¸—à¸²à¸‡à¸à¸²à¸£à¸¡à¸µà¸ªà¹ˆà¸§à¸™à¸£à¹ˆà¸§à¸¡
â””â”€â”€ .github/workflows/     # CI/CD
    â””â”€â”€ tests.yml          # GitHub Actions test pipeline
```

## ğŸ¨ à¸à¸²à¸£à¸›à¸£à¸±à¸šà¹à¸•à¹ˆà¸‡

### à¹€à¸›à¸¥à¸µà¹ˆà¸¢à¸™ Version (Cache Busting)
à¹à¸à¹‰à¹„à¸‚à¹ƒà¸™à¹„à¸Ÿà¸¥à¹Œ `config/app.php`:
```php
define('APP_VERSION', '1.2.9'); // à¹€à¸›à¸¥à¸µà¹ˆà¸¢à¸™à¹€à¸¥à¸‚à¸™à¸µà¹‰à¹€à¸à¸·à¹ˆà¸­ force cache refresh
```

### Multi-Event Mode (à¹‚à¸«à¸¡à¸”à¸«à¸¥à¸²à¸¢ Convention)
à¹à¸à¹‰à¹„à¸‚à¹ƒà¸™à¹„à¸Ÿà¸¥à¹Œ `config/app.php`:
```php
define('MULTI_EVENT_MODE', true);      // à¹€à¸›à¸´à¸”à¹ƒà¸Šà¹‰à¸‡à¸²à¸™à¸£à¸°à¸šà¸šà¸«à¸¥à¸²à¸¢ conventions
define('DEFAULT_EVENT_SLUG', 'default'); // slug à¸‚à¸­à¸‡ convention à¹€à¸£à¸´à¹ˆà¸¡à¸•à¹‰à¸™
```

à¹€à¸‚à¹‰à¸²à¸–à¸¶à¸‡ convention à¸œà¹ˆà¸²à¸™ URL: `/event/slug` à¹€à¸Šà¹ˆà¸™ `/event/idol-stage-feb-2026`

### Venue Mode (à¹‚à¸«à¸¡à¸”à¹€à¸§à¸—à¸µ)
à¹à¸à¹‰à¹„à¸‚à¹ƒà¸™à¹„à¸Ÿà¸¥à¹Œ `config/app.php`:
```php
define('VENUE_MODE', 'multi');   // à¸«à¸¥à¸²à¸¢à¹€à¸§à¸—à¸µ - à¹à¸ªà¸”à¸‡ venue filter, Gantt view, à¸„à¸­à¸¥à¸±à¸¡à¸™à¹Œà¹€à¸§à¸—à¸µ
define('VENUE_MODE', 'single');  // à¹€à¸§à¸—à¸µà¹€à¸”à¸µà¸¢à¸§ - à¸‹à¹ˆà¸­à¸™ venue filter, Gantt view, à¸„à¸­à¸¥à¸±à¸¡à¸™à¹Œà¹€à¸§à¸—à¸µ
```

| Feature | multi | single |
|---------|-------|--------|
| Venue filter (checkbox à¸à¸£à¸­à¸‡à¹€à¸§à¸—à¸µ) | à¹à¸ªà¸”à¸‡ | à¸‹à¹ˆà¸­à¸™ |
| Toggle à¸ªà¸¥à¸±à¸š List/Timeline view | à¹à¸ªà¸”à¸‡ | à¸‹à¹ˆà¸­à¸™ |
| à¸„à¸­à¸¥à¸±à¸¡à¸™à¹Œà¹€à¸§à¸—à¸µà¹ƒà¸™à¸•à¸²à¸£à¸²à¸‡ events | à¹à¸ªà¸”à¸‡ | à¸‹à¹ˆà¸­à¸™ |
| à¸„à¸­à¸¥à¸±à¸¡à¸™à¹Œà¹€à¸§à¸—à¸µà¹ƒà¸™ admin table | à¹à¸ªà¸”à¸‡ | à¸‹à¹ˆà¸­à¸™ |

### à¸˜à¸µà¸¡à¸ªà¸µ (Sakura)
à¸ªà¸µà¸«à¸¥à¸±à¸à¸­à¸¢à¸¹à¹ˆà¹ƒà¸™ `styles/common.css`:
```css
:root {
    --sakura-light: #FFB7C5;
    --sakura-medium: #F48FB1;
    --sakura-dark: #E91E63;
    --sakura-deep: #C2185B;
    --sakura-gradient: linear-gradient(135deg, #FFB7C5 0%, #E91E63 100%);
}
```

### à¹€à¸à¸´à¹ˆà¸¡/à¹à¸à¹‰à¹„à¸‚à¸ à¸²à¸©à¸²
à¹à¸à¹‰à¹„à¸‚à¹ƒà¸™ `js/translations.js`

## ğŸ”§ à¸à¸²à¸£à¹ƒà¸Šà¹‰à¸‡à¸²à¸™

### à¸ªà¸¥à¸±à¸šà¸¡à¸¸à¸¡à¸¡à¸­à¸‡ (List / Timeline)
- à¹ƒà¸Šà¹‰ **Toggle Switch** à¸”à¹‰à¸²à¸™à¸¥à¹ˆà¸²à¸‡à¸›à¸¸à¹ˆà¸¡à¸„à¹‰à¸™à¸«à¸²à¹€à¸à¸·à¹ˆà¸­à¸ªà¸¥à¸±à¸šà¸¡à¸¸à¸¡à¸¡à¸­à¸‡
- **à¸£à¸²à¸¢à¸à¸²à¸£ (List)**: à¸¡à¸¸à¸¡à¸¡à¸­à¸‡à¹à¸šà¸šà¸•à¸²à¸£à¸²à¸‡ à¹à¸ªà¸”à¸‡à¸£à¸²à¸¢à¸¥à¸°à¹€à¸­à¸µà¸¢à¸”à¸„à¸£à¸š
- **à¹„à¸—à¸¡à¹Œà¹„à¸¥à¸™à¹Œ (Gantt)**: à¸¡à¸¸à¸¡à¸¡à¸­à¸‡à¹à¸šà¸š timeline à¹€à¸«à¹‡à¸™ overlap à¸‚à¸­à¸‡à¸«à¸¥à¸²à¸¢à¹€à¸§à¸—à¸µà¹„à¸”à¹‰à¸‡à¹ˆà¸²à¸¢
- à¸£à¸°à¸šà¸šà¸ˆà¸°à¸ˆà¸³à¸¡à¸¸à¸¡à¸¡à¸­à¸‡à¸—à¸µà¹ˆà¹€à¸¥à¸·à¸­à¸à¹„à¸§à¹‰ (localStorage)

### à¸à¸£à¸­à¸‡à¸‚à¹‰à¸­à¸¡à¸¹à¸¥
1. à¸à¸´à¸¡à¸à¹Œà¸„à¹‰à¸™à¸«à¸²à¹ƒà¸™à¸Šà¹ˆà¸­à¸‡ search (auto-select à¹€à¸¡à¸·à¹ˆà¸­à¸„à¸¥à¸´à¸, à¸¡à¸µà¸›à¸¸à¹ˆà¸¡ âœ• à¸¥à¹‰à¸²à¸‡à¸„à¹‰à¸™à¸«à¸²)
2. à¹€à¸¥à¸·à¸­à¸à¸¨à¸´à¸¥à¸›à¸´à¸™/à¸§à¸‡à¸ˆà¸²à¸ checkbox
3. à¹€à¸¥à¸·à¸­à¸à¹€à¸§à¸—à¸µà¸ˆà¸²à¸ checkbox
4. à¸à¸”à¸›à¸¸à¹ˆà¸¡ "à¸„à¹‰à¸™à¸«à¸²"

### à¸šà¸±à¸™à¸—à¸¶à¸à¹€à¸›à¹‡à¸™à¸£à¸¹à¸›à¸ à¸²à¸
1. à¸à¸£à¸­à¸‡à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸•à¸²à¸¡à¸•à¹‰à¸­à¸‡à¸à¸²à¸£
2. à¸à¸”à¸›à¸¸à¹ˆà¸¡ "ğŸ“¸ à¸šà¸±à¸™à¸—à¸¶à¸à¹€à¸›à¹‡à¸™à¸£à¸¹à¸›à¸ à¸²à¸"
3. à¸£à¸­ html2canvas à¹‚à¸«à¸¥à¸” (à¸„à¸£à¸±à¹‰à¸‡à¹à¸£à¸)
4. à¹„à¸Ÿà¸¥à¹Œ PNG à¸ˆà¸°à¸”à¸²à¸§à¸™à¹Œà¹‚à¸«à¸¥à¸”à¸­à¸±à¸•à¹‚à¸™à¸¡à¸±à¸•à¸´

### Export à¹„à¸›à¸›à¸à¸´à¸—à¸´à¸™
1. à¸à¸£à¸­à¸‡à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸•à¸²à¸¡à¸•à¹‰à¸­à¸‡à¸à¸²à¸£
2. à¸à¸”à¸›à¸¸à¹ˆà¸¡ "ğŸ“… Export to Calendar"
3. à¹€à¸›à¸´à¸”à¹„à¸Ÿà¸¥à¹Œ .ics à¸”à¹‰à¸§à¸¢ Google Calendar / Apple Calendar

## ğŸ”Œ API Endpoints

### Public API (`api.php`)
```
GET /api.php?action=programs              # Programs à¸—à¸±à¹‰à¸‡à¸«à¸¡à¸”
GET /api.php?action=programs&event=slug   # à¸à¸£à¸­à¸‡à¸•à¸²à¸¡ event
GET /api.php?action=programs&organizer=X  # à¸à¸£à¸­à¸‡à¸•à¸²à¸¡à¸¨à¸´à¸¥à¸›à¸´à¸™
GET /api.php?action=programs&location=X   # à¸à¸£à¸­à¸‡à¸•à¸²à¸¡à¹€à¸§à¸—à¸µ
GET /api.php?action=organizers            # à¸£à¸²à¸¢à¸Šà¸·à¹ˆà¸­à¸¨à¸´à¸¥à¸›à¸´à¸™à¸—à¸±à¹‰à¸‡à¸«à¸¡à¸”
GET /api.php?action=locations             # à¸£à¸²à¸¢à¸Šà¸·à¹ˆà¸­à¹€à¸§à¸—à¸µà¸—à¸±à¹‰à¸‡à¸«à¸¡à¸”
GET /api.php?action=events_list           # à¸£à¸²à¸¢à¸à¸²à¸£ events à¸—à¸µà¹ˆ active à¸—à¸±à¹‰à¸‡à¸«à¸¡à¸”
```

### Request API (`api/request.php`)
```
POST /api/request.php?action=submit     # à¸ªà¹ˆà¸‡à¸„à¸³à¸‚à¸­à¹€à¸à¸´à¹ˆà¸¡/à¹à¸à¹‰à¹„à¸‚ event
GET  /api/request.php?action=programs   # à¸”à¸¶à¸‡à¸£à¸²à¸¢à¸à¸²à¸£ programs (à¸ªà¸³à¸«à¸£à¸±à¸š modal)
```

### Admin API (`admin/api.php`) - à¸•à¹‰à¸­à¸‡ login + CSRF Token
```
# Programs (à¸£à¸­à¸‡à¸£à¸±à¸š ?event_meta_id=X à¸ªà¸³à¸«à¸£à¸±à¸šà¸à¸£à¸­à¸‡à¸•à¸²à¸¡ event)
GET    ?action=programs_list              # à¸£à¸²à¸¢à¸à¸²à¸£ programs (pagination, search, filter, sort)
GET    ?action=programs_get&id=X          # à¸”à¸¶à¸‡ program à¹€à¸”à¸µà¸¢à¸§
POST   ?action=programs_create            # à¸ªà¸£à¹‰à¸²à¸‡ program à¹ƒà¸«à¸¡à¹ˆ (à¸£à¸±à¸š event_meta_id)
PUT    ?action=programs_update&id=X       # à¹à¸à¹‰à¹„à¸‚ program (à¸£à¸±à¸š event_meta_id)
DELETE ?action=programs_delete&id=X       # à¸¥à¸š program
DELETE ?action=programs_bulk_delete       # à¸¥à¸šà¸«à¸¥à¸²à¸¢ programs (à¸ªà¸¹à¸‡à¸ªà¸¸à¸” 100)
PUT    ?action=programs_bulk_update       # à¹à¸à¹‰à¹„à¸‚à¸«à¸¥à¸²à¸¢ programs (venue/organizer/categories)
GET    ?action=programs_venues            # à¸£à¸²à¸¢à¸Šà¸·à¹ˆà¸­à¹€à¸§à¸—à¸µà¸—à¸±à¹‰à¸‡à¸«à¸¡à¸” (à¸ªà¸³à¸«à¸£à¸±à¸š autocomplete)

# Events (events_meta CRUD)
GET    ?action=events_list           # à¸£à¸²à¸¢à¸à¸²à¸£ events à¸—à¸±à¹‰à¸‡à¸«à¸¡à¸”
GET    ?action=events_get&id=X       # à¸”à¸¶à¸‡ event à¹€à¸”à¸µà¸¢à¸§
POST   ?action=events_create         # à¸ªà¸£à¹‰à¸²à¸‡ event à¹ƒà¸«à¸¡à¹ˆ
PUT    ?action=events_update&id=X    # à¹à¸à¹‰à¹„à¸‚ event
DELETE ?action=events_delete&id=X    # à¸¥à¸š event

# Requests (à¸£à¸­à¸‡à¸£à¸±à¸š ?event_meta_id=X à¸ªà¸³à¸«à¸£à¸±à¸šà¸à¸£à¸­à¸‡à¸•à¸²à¸¡ convention)
GET    ?action=requests          # à¸£à¸²à¸¢à¸à¸²à¸£à¸„à¸³à¸‚à¸­ (filter by status)
GET    ?action=pending_count     # à¸ˆà¸³à¸™à¸§à¸™à¸„à¸³à¸‚à¸­ pending (à¸ªà¸³à¸«à¸£à¸±à¸š badge)
PUT    ?action=request_approve&id=X  # à¸­à¸™à¸¸à¸¡à¸±à¸•à¸´à¸„à¸³à¸‚à¸­
PUT    ?action=request_reject&id=X   # à¸›à¸à¸´à¹€à¸ªà¸˜à¸„à¸³à¸‚à¸­

# ICS Upload (à¸£à¸­à¸‡à¸£à¸±à¸š event_meta_id)
POST   ?action=upload_ics       # à¸­à¸±à¸à¹‚à¸«à¸¥à¸” + parse à¹„à¸Ÿà¸¥à¹Œ .ics
POST   ?action=import_ics_confirm    # à¸¢à¸·à¸™à¸¢à¸±à¸™ import events

# Credits (à¸£à¸­à¸‡à¸£à¸±à¸š ?event_meta_id=X à¸ªà¸³à¸«à¸£à¸±à¸šà¸à¸£à¸­à¸‡à¸•à¸²à¸¡ convention)
GET    ?action=credits_list      # à¸£à¸²à¸¢à¸à¸²à¸£ credits (pagination, search)
GET    ?action=credits_get&id=X  # à¸”à¸¶à¸‡ credit à¹€à¸”à¸µà¸¢à¸§
POST   ?action=credits_create    # à¸ªà¸£à¹‰à¸²à¸‡ credit à¹ƒà¸«à¸¡à¹ˆ (à¸£à¸±à¸š event_meta_id)
PUT    ?action=credits_update&id=X   # à¹à¸à¹‰à¹„à¸‚ credit
DELETE ?action=credits_delete&id=X   # à¸¥à¸š credit
DELETE ?action=credits_bulk_delete   # à¸¥à¸šà¸«à¸¥à¸²à¸¢ credits

# Change Password
POST   ?action=change_password      # à¹€à¸›à¸¥à¸µà¹ˆà¸¢à¸™à¸£à¸«à¸±à¸ªà¸œà¹ˆà¸²à¸™ admin (à¸•à¹‰à¸­à¸‡ login à¸”à¹‰à¸§à¸¢ DB user)

# User Management (admin role only)
GET    ?action=users_list          # à¸£à¸²à¸¢à¸à¸²à¸£ users à¸—à¸±à¹‰à¸‡à¸«à¸¡à¸”
GET    ?action=users_get&id=X      # à¸”à¸¶à¸‡ user à¹€à¸”à¸µà¸¢à¸§
POST   ?action=users_create        # à¸ªà¸£à¹‰à¸²à¸‡ user à¹ƒà¸«à¸¡à¹ˆ (username, password, display_name, role)
PUT    ?action=users_update&id=X   # à¹à¸à¹‰à¹„à¸‚ user (password optional)
DELETE ?action=users_delete&id=X   # à¸¥à¸š user (à¸«à¹‰à¸²à¸¡à¸¥à¸šà¸•à¸±à¸§à¹€à¸­à¸‡/admin à¸„à¸™à¸ªà¸¸à¸”à¸—à¹‰à¸²à¸¢)

# Backup/Restore (admin role only)
POST   ?action=backup_create        # à¸ªà¸£à¹‰à¸²à¸‡ backup à¹ƒà¸«à¸¡à¹ˆ
GET    ?action=backup_list          # à¸£à¸²à¸¢à¸à¸²à¸£ backup à¸—à¸±à¹‰à¸‡à¸«à¸¡à¸”
GET    ?action=backup_download&filename=X  # à¸”à¸²à¸§à¸™à¹Œà¹‚à¸«à¸¥à¸”à¹„à¸Ÿà¸¥à¹Œ backup
DELETE ?action=backup_delete        # à¸¥à¸šà¹„à¸Ÿà¸¥à¹Œ backup
POST   ?action=backup_restore      # Restore à¸ˆà¸²à¸à¹„à¸Ÿà¸¥à¹Œà¸šà¸™ server
POST   ?action=backup_upload_restore     # Upload .db à¹à¸¥à¹‰à¸§ restore
```

## ğŸ”’ Security Features

- **XSS Protection**: sanitize_string(), sanitize_string_array(), get_sanitized_param()
- **CSRF Protection**: Token-based validation à¸ªà¸³à¸«à¸£à¸±à¸š POST/PUT/DELETE
- **Session Security**: Timeout 2 à¸Šà¸±à¹ˆà¸§à¹‚à¸¡à¸‡, timing attack prevention, session fixation prevention
- **Secure Cookies**: httponly, secure, SameSite attributes
- **Rate Limiting**: 10 requests/à¸Šà¸±à¹ˆà¸§à¹‚à¸¡à¸‡/IP à¸ªà¸³à¸«à¸£à¸±à¸š event requests
- **IP Whitelist**: à¸ˆà¸³à¸à¸±à¸” admin access à¸•à¸²à¸¡ IP (à¸£à¸­à¸‡à¸£à¸±à¸š CIDR notation)
- **Security Headers**: X-Content-Type-Options, X-Frame-Options, X-XSS-Protection, Referrer-Policy
- **SQL Injection Prevention**: PDO prepared statements à¸—à¸¸à¸ query
- **Role-Based Access Control**: admin/agent roles, defense in depth (PHP + API level)

## ğŸ›  Tools (à¸ªà¸³à¸«à¸£à¸±à¸š Developer)

à¸­à¸¢à¸¹à¹ˆà¹ƒà¸™à¹‚à¸Ÿà¸¥à¹€à¸”à¸­à¸£à¹Œ `tools/`:

| à¹„à¸Ÿà¸¥à¹Œ | à¸«à¸™à¹‰à¸²à¸—à¸µà¹ˆ |
|------|--------|
| `import-ics-to-sqlite.php` | Import ICS â†’ SQLite |
| `update-ics-categories.php` | à¹€à¸à¸´à¹ˆà¸¡ CATEGORIES field |
| `migrate-add-requests-table.php` | à¸ªà¸£à¹‰à¸²à¸‡à¸•à¸²à¸£à¸²à¸‡ event_requests |
| `migrate-add-credits-table.php` | à¸ªà¸£à¹‰à¸²à¸‡à¸•à¸²à¸£à¸²à¸‡ credits |
| `migrate-add-events-meta-table.php` | à¸ªà¸£à¹‰à¸²à¸‡à¸•à¸²à¸£à¸²à¸‡ events_meta + à¹€à¸à¸´à¹ˆà¸¡ event_meta_id |
| `migrate-rename-tables-columns.php` | Rename tables/columns à¹€à¸›à¹‡à¸™ v1.2.9 schema (idempotent) |
| `migrate-add-admin-users-table.php` | à¸ªà¸£à¹‰à¸²à¸‡à¸•à¸²à¸£à¸²à¸‡ admin_users + seed à¸ˆà¸²à¸ config |
| `migrate-add-role-column.php` | à¹€à¸à¸´à¹ˆà¸¡ role column à¹ƒà¸™ admin_users |
| `migrate-rename-tables-columns.php` | Rename tables/columns à¹€à¸›à¹‡à¸™ v1.2.9 schema (idempotent) |
| `migrate-add-indexes.php` | DB performance indexes (idempotent, à¸£à¸±à¸™à¸‹à¹‰à¸³à¹„à¸”à¹‰) |
| `generate-password-hash.php` | à¸ªà¸£à¹‰à¸²à¸‡ password hash à¸ªà¸³à¸«à¸£à¸±à¸š admin |
| `debug-parse.php` | Debug à¸à¸²à¸£ parse ICS |
| `test-parse.php` | à¸—à¸”à¸ªà¸­à¸š parse à¹„à¸Ÿà¸¥à¹Œ |

**à¸§à¸´à¸˜à¸µà¹ƒà¸Šà¹‰**:
```bash
cd tools
php import-ics-to-sqlite.php
php migrate-add-credits-table.php
php generate-password-hash.php yourpassword
```

## ğŸ³ Docker

### à¸„à¸³à¸ªà¸±à¹ˆà¸‡à¸—à¸µà¹ˆà¹ƒà¸Šà¹‰à¸šà¹ˆà¸­à¸¢
```bash
docker-compose up -d              # à¹€à¸£à¸´à¹ˆà¸¡ container
docker-compose down               # à¸«à¸¢à¸¸à¸” container
docker-compose logs -f             # à¸”à¸¹ logs
docker-compose restart             # restart
docker exec idol-stage-calendar bash                      # à¹€à¸‚à¹‰à¸² shell
docker exec idol-stage-calendar php tests/run-tests.php   # à¸£à¸±à¸™ tests
docker exec idol-stage-calendar php tools/import-ics-to-sqlite.php  # import data
```

### à¹„à¸Ÿà¸¥à¹Œ Docker
- `Dockerfile` - PHP 8.1-apache à¸à¸£à¹‰à¸­à¸¡ PDO SQLite
- `docker-compose.yml` - Production (port 8000, volumes à¸ªà¸³à¸«à¸£à¸±à¸š ics/cache/db)
- `docker-compose.dev.yml` - Development (live reload, error display)
- `.dockerignore` - à¸¥à¸”à¸‚à¸™à¸²à¸” image

à¸”à¸¹à¸£à¸²à¸¢à¸¥à¸°à¹€à¸­à¸µà¸¢à¸”à¸—à¸µà¹ˆ [DOCKER.md](DOCKER.md)

## ğŸ§ª Testing (à¸ªà¸³à¸«à¸£à¸±à¸š Developer)

### Automated Test Suite

à¸£à¸°à¸šà¸šà¸¡à¸µ **340 automated unit tests** à¸„à¸£à¸­à¸šà¸„à¸¥à¸¸à¸¡à¸—à¸¸à¸ feature:

```bash
# à¸£à¸±à¸™ test à¸—à¸±à¹‰à¸‡à¸«à¸¡à¸”
php tests/run-tests.php

# à¸£à¸±à¸™ test à¹à¸•à¹ˆà¸¥à¸° suite
php tests/run-tests.php SecurityTest          # 7 tests
php tests/run-tests.php CacheTest             # 17 tests
php tests/run-tests.php AdminAuthTest         # 38 tests
php tests/run-tests.php CreditsApiTest        # 49 tests
php tests/run-tests.php IntegrationTest       # 97 tests
php tests/run-tests.php UserManagementTest    # 116 tests
php tests/run-tests.php ThemeTest             # 16 tests

# à¸£à¸±à¸™ test à¹€à¸‰à¸à¸²à¸° function
php tests/run-tests.php SecurityTest::testSanitizeString
```

### Quick Tests (à¸à¹ˆà¸­à¸™ Commit)

```bash
# Windows
quick-test.bat

# Linux/Mac
./quick-test.sh
```

### Test Coverage

- **SecurityTest**: XSS protection, input sanitization, SQL injection prevention
- **CacheTest**: Cache TTL, invalidation, hit/miss behavior
- **AdminAuthTest**: Session security, timing attack resistance, DB auth, change password
- **CreditsApiTest**: Database CRUD operations, bulk operations
- **IntegrationTest**: Configuration validation, workflow testing, API endpoints, multi-event support
- **UserManagementTest**: Role column schema, role helpers, user CRUD, permission checks
- **ThemeTest**: Theme system, get_site_theme(), CSS files, admin API, public pages

âœ… **à¸œà¹ˆà¸²à¸™à¸—à¸±à¹‰à¸‡à¸«à¸¡à¸” 340 tests à¸šà¸™ PHP 8.1, 8.2, à¹à¸¥à¸° 8.3**

### Manual Testing

à¸”à¸¹ [TESTING.md](TESTING.md) à¸ªà¸³à¸«à¸£à¸±à¸š:
- 129 manual test cases
- Security testing procedures
- Performance benchmarks
- Edge case scenarios

### CI/CD

GitHub Actions à¸£à¸±à¸™ tests à¸­à¸±à¸•à¹‚à¸™à¸¡à¸±à¸•à¸´:
- à¸—à¸”à¸ªà¸­à¸šà¸šà¸™ **PHP 8.1, 8.2, à¹à¸¥à¸° 8.3**
- Security à¹à¸¥à¸° Integration tests à¹à¸¢à¸à¸à¸±à¸™
- à¸œà¹ˆà¸²à¸™à¸—à¸¸à¸ test à¸šà¸™à¸—à¸¸à¸ PHP version
- à¸”à¸¹à¸—à¸µà¹ˆ `.github/workflows/tests.yml`

## ğŸ“„ à¸£à¸¹à¸›à¹à¸šà¸šà¹„à¸Ÿà¸¥à¹Œ ICS

```ics
BEGIN:VCALENDAR
VERSION:2.0
PRODID:-//Idol Stage Timetable//EN

BEGIN:VEVENT
UID:event-001@jpexpo.local
DTSTART:20260207T100000Z
DTEND:20260207T110000Z
SUMMARY:à¸Šà¸·à¹ˆà¸­à¸à¸²à¸£à¹à¸ªà¸”à¸‡
LOCATION:à¸Šà¸·à¹ˆà¸­à¹€à¸§à¸—à¸µ
ORGANIZER;CN="à¸Šà¸·à¹ˆà¸­à¸¨à¸´à¸¥à¸›à¸´à¸™":mailto:info@example.com
CATEGORIES:à¸Šà¸·à¹ˆà¸­à¸¨à¸´à¸¥à¸›à¸´à¸™
DESCRIPTION:à¸£à¸²à¸¢à¸¥à¸°à¹€à¸­à¸µà¸¢à¸”
STATUS:CONFIRMED
END:VEVENT

END:VCALENDAR
```

## ğŸ› à¹à¸à¹‰à¹„à¸‚à¸›à¸±à¸à¸«à¸²

### à¹„à¸¡à¹ˆà¹à¸ªà¸”à¸‡à¸à¸´à¸ˆà¸à¸£à¸£à¸¡
- à¸•à¸£à¸§à¸ˆà¸ªà¸­à¸šà¹„à¸Ÿà¸¥à¹Œ .ics à¹ƒà¸™à¹‚à¸Ÿà¸¥à¹€à¸”à¸­à¸£à¹Œ `ics/`
- à¸£à¸±à¸™ `php tools/import-ics-to-sqlite.php`
- à¸•à¸£à¸§à¸ˆà¸ªà¸­à¸š permission

### Cache à¹„à¸¡à¹ˆ update
- à¹€à¸›à¸¥à¸µà¹ˆà¸¢à¸™ `APP_VERSION` à¹ƒà¸™ `config/app.php`
- Cloudflare: Purge cache

### à¸šà¸±à¸™à¸—à¸¶à¸à¸£à¸¹à¸›à¸ à¸²à¸à¹„à¸¡à¹ˆà¹„à¸”à¹‰
- à¸•à¸£à¸§à¸ˆà¸ªà¸­à¸š internet connection (à¸•à¹‰à¸­à¸‡à¹‚à¸«à¸¥à¸” html2canvas)
- à¸¥à¸­à¸‡à¹€à¸›à¸´à¸” browser console à¸”à¸¹ error

### Docker issues
- à¸•à¸£à¸§à¸ˆà¸ªà¸­à¸š `docker-compose logs -f`
- à¸•à¸£à¸§à¸ˆà¸ªà¸­à¸š permissions: `docker exec idol-stage-calendar chmod -R 777 cache/`
- Rebuild: `docker-compose down && docker-compose up --build -d`

## ğŸ“ à¸•à¸´à¸”à¸•à¹ˆà¸­

- Twitter (X): [@FordAntiTrust](https://x.com/FordAntiTrust)

## ğŸ“ Changelog

### v1.2.12 (2026-02-26)

- ğŸ“– **Admin Help Pages** - à¸„à¸¹à¹ˆà¸¡à¸·à¸­à¸à¸²à¸£à¹ƒà¸Šà¹‰à¸‡à¸²à¸™ Admin Panel
  - `admin/help.php` (à¹„à¸—à¸¢) + `admin/help-en.php` (English) à¸à¸£à¹‰à¸­à¸¡ language switcher
  - Mobile TOC: sidebar à¸‹à¹ˆà¸­à¸™à¸šà¸™ mobile à¹ƒà¸Šà¹‰ collapsible dropdown à¹à¸—à¸™
- ğŸ“± **Admin UI Mobile Responsive** (`admin/index.php`)
  - iOS Auto-Zoom Fix: date input font-size â‰¥ 1rem
  - Touch Targets: modal-close 44Ã—44px, checkboxes 20px, btn-sm min-height 40px
  - Hamburger Tab Menu: dropdown navigation à¸šà¸™ mobile (â‰¤600px) à¸à¸£à¹‰à¸­à¸¡ badge + active state
  - Table Scroll Fix: wrapper div pattern à¸›à¹‰à¸­à¸‡à¸à¸±à¸™ iOS scroll capture à¹ƒà¸™ Programs list
  - 3 Breakpoints: 768px, 600px, 480px

### v1.2.11 (2026-02-25)

- ğŸ› ï¸ **Setup Wizard** (`setup.php`) - à¸«à¸™à¹‰à¸² Setup & Installation à¹à¸šà¸š interactive
  - 5 à¸‚à¸±à¹‰à¸™à¸•à¸­à¸™: System Requirements â†’ Directories â†’ Database â†’ Import â†’ Admin & Security
  - Auto-login à¸«à¸¥à¸±à¸‡ Initialize Database, Inline password change, Default credentials box
  - Lock/Unlock mechanism (`data/.setup_locked`), Auth gate (fresh install à¹„à¸¡à¹ˆà¸•à¹‰à¸­à¸‡ login)
- ğŸ“– **[SETUP.md](SETUP.md)** - à¸„à¸¹à¹ˆà¸¡à¸·à¸­ Setup Wizard à¸‰à¸šà¸±à¸šà¸ªà¸¡à¸šà¸¹à¸£à¸“à¹Œ
- ğŸ”Œ **[API.md](API.md)** - API endpoint documentation à¸„à¸£à¸šà¸–à¹‰à¸§à¸™ (Public/Request/Admin) à¸à¸£à¹‰à¸­à¸¡ examples
- ğŸ“ **[PROJECT-STRUCTURE.md](PROJECT-STRUCTURE.md)** - à¹‚à¸„à¸£à¸‡à¸ªà¸£à¹‰à¸²à¸‡à¹„à¸Ÿà¸¥à¹Œ + à¸„à¸³à¸­à¸˜à¸´à¸šà¸²à¸¢ functions + file relationships
- ğŸ“ **à¸›à¸£à¸±à¸šà¸›à¸£à¸¸à¸‡ .md à¸—à¸±à¹‰à¸‡à¸«à¸¡à¸”** - à¸­à¸±à¸à¹€à¸”à¸— README (à¸¢à¹ˆà¸­ 3 sections â†’ links), QUICKSTART, INSTALLATION, SQLITE_MIGRATION, TESTING

### v1.2.10 (2026-02-19)

- âš¡ **Database Indexes** (`tools/migrate-add-indexes.php`) - à¹€à¸à¸´à¹ˆà¸¡ 7 indexes à¹€à¸à¸´à¹ˆà¸¡à¸„à¸§à¸²à¸¡à¹€à¸£à¹‡à¸§ 2-5x
  - `idx_programs_event_id`, `idx_programs_start`, `idx_programs_location`, `idx_programs_categories`
  - `idx_program_requests_status`, `idx_program_requests_event_id`, `idx_credits_event_id`
- ğŸ”‘ **`get_db()` Singleton** (`functions/helpers.php`) - PDO singleton à¸ªà¸³à¸«à¸£à¸±à¸š web context
- ğŸš¦ **Login Rate Limiting** - à¸ˆà¸³à¸à¸±à¸” login 5 à¸„à¸£à¸±à¹‰à¸‡/15 à¸™à¸²à¸—à¸µ/IP (`cache/login_attempts.json`)
- âš¡ **Pre-computed Timestamps** (`index.php`) - `start_ts`/`end_ts` à¸„à¸³à¸™à¸§à¸“à¸„à¸£à¸±à¹‰à¸‡à¹€à¸”à¸µà¸¢à¸§à¸•à¹ˆà¸­ record
- ğŸŒ **HTTP Cache Headers** (`api.php`) - ETag + Cache-Control + 304 Not Modified à¸ªà¸³à¸«à¸£à¸±à¸š public API
- ğŸ§ª **324 automated tests** à¸œà¹ˆà¸²à¸™à¸—à¸±à¹‰à¸‡à¸«à¸¡à¸”

### v1.2.9 (2026-02-18)

- ğŸ—„ï¸ **Database Tables & Columns Rename** - à¹€à¸›à¸¥à¸µà¹ˆà¸¢à¸™à¸Šà¸·à¹ˆà¸­ tables/columns à¹ƒà¸«à¹‰à¸ªà¸­à¸”à¸„à¸¥à¹‰à¸­à¸‡à¸à¸±à¸š terminology
  - `events` â†’ `programs`, `events_meta` â†’ `events`, `event_requests` â†’ `program_requests`
  - Column `event_meta_id` â†’ `event_id`, `event_id` (in requests) â†’ `program_id`
  - Migration script: `tools/migrate-rename-tables-columns.php` (idempotent)
- ğŸ§ª **324 automated tests** à¸œà¹ˆà¸²à¸™à¸—à¸±à¹‰à¸‡à¸«à¸¡à¸”

### v1.2.8 (2026-02-18)

- ğŸ”§ **PHP Backend Function Renames** - à¹€à¸›à¸¥à¸µà¹ˆà¸¢à¸™à¸Šà¸·à¹ˆà¸­ PHP functions à¹ƒà¸«à¹‰à¸ªà¸­à¸”à¸„à¸¥à¹‰à¸­à¸‡à¸à¸±à¸š terminology à¹ƒà¸«à¸¡à¹ˆ
  - `admin/api.php`: `listEvents()`â†’`listPrograms()`, `getEvent()`â†’`getProgram()`, `createEvent()`â†’`createProgram()`, `updateEvent()`â†’`updateProgram()`, `deleteEvent()`â†’`deleteProgram()`, `bulkDeleteEvents()`â†’`bulkDeletePrograms()`, `bulkUpdateEvents()`â†’`bulkUpdatePrograms()`
  - `admin/api.php`: `listEventMeta()`â†’`listEvents()`, `getEventMeta()`â†’`getEvent()`, `createEventMeta()`â†’`createEvent()`, `updateEventMeta()`â†’`updateEvent()`, `deleteEventMeta()`â†’`deleteEvent()`
  - `functions/helpers.php`: `get_event_meta_by_slug()`â†’`get_event_by_slug()`, `get_event_meta_id()`â†’`get_event_id()`
- ğŸ§ª **226 automated tests** à¸œà¹ˆà¸²à¸™à¸—à¸±à¹‰à¸‡à¸«à¸¡à¸”

### v1.2.7 (2026-02-18)

- ğŸ”Œ **API Action Name Renames** - à¹€à¸›à¸¥à¸µà¹ˆà¸¢à¸™à¸Šà¸·à¹ˆà¸­ API actions à¹ƒà¸«à¹‰à¸ªà¸­à¸”à¸„à¸¥à¹‰à¸­à¸‡à¸à¸±à¸š terminology à¹ƒà¸«à¸¡à¹ˆ
  - Public API: `action=events`â†’`action=programs`, `action=events_list` à¸„à¸‡à¹€à¸”à¸´à¸¡ (à¸–à¸¹à¸à¸•à¹‰à¸­à¸‡à¹à¸¥à¹‰à¸§)
  - Admin API Programs: `list`â†’`programs_list`, `get`â†’`programs_get`, `create`â†’`programs_create`, `update`â†’`programs_update`, `delete`â†’`programs_delete`, `venues`â†’`programs_venues`, `bulk_delete`â†’`programs_bulk_delete`, `bulk_update`â†’`programs_bulk_update`
  - Admin API Events: `event_meta_list`â†’`events_list`, `event_meta_get`â†’`events_get`, `event_meta_create`â†’`events_create`, `event_meta_update`â†’`events_update`, `event_meta_delete`â†’`events_delete`
  - Request API: `action=events`â†’`action=programs`
- ğŸ§ª **226 automated tests** à¸œà¹ˆà¸²à¸™à¸—à¸±à¹‰à¸‡à¸«à¸¡à¸”

### v1.2.6 (2026-02-18)

- ğŸ·ï¸ **Terminology Rename** - à¸›à¸£à¸±à¸šà¸„à¸³à¹€à¸£à¸µà¸¢à¸à¸—à¸±à¹ˆà¸§à¸—à¸±à¹‰à¸‡ UI
  - "Events" (individual shows) â†’ **"Programs"**
  - "Conventions" â†’ **"Events"**
- ğŸŒ **Translation Updates** - à¸­à¸±à¸à¹€à¸”à¸— 3 à¸ à¸²à¸©à¸² (TH/EN/JA) à¸—à¸±à¹‰à¸‡ text values à¹à¸¥à¸° translation key names
  - Key renames: `message.noEvents`â†’`message.noPrograms`, `table.event`â†’`table.program`, `gantt.noEvents`â†’`gantt.noPrograms`, `modal.eventName`â†’`modal.programName`
- ğŸ¨ **CSS Class Renames**: `.event-*`â†’`.program-*`, `.gantt-event-*`â†’`.gantt-program-*`
- âš™ï¸ **Admin Panel**: Tab "Events"â†’"Programs", Tab "Conventions"â†’"Events", section IDs and JS functions updated
- ğŸ§ª **226 automated tests** à¸œà¹ˆà¸²à¸™à¸—à¸±à¹‰à¸‡à¸«à¸¡à¸”

### v1.2.5 (2026-02-18)

- ğŸ‘¤ **User Management** - à¸ˆà¸±à¸”à¸à¸²à¸£ admin users à¸œà¹ˆà¸²à¸™ Admin panel (CRUD)
  - Tab "ğŸ‘¤ Users" à¸ªà¸³à¸«à¸£à¸±à¸š admin role
  - à¸ªà¸£à¹‰à¸²à¸‡/à¹à¸à¹‰à¹„à¸‚/à¸¥à¸š users à¸à¸£à¹‰à¸­à¸¡ role assignment
  - API: `users_list`, `users_get`, `users_create`, `users_update`, `users_delete`
- ğŸ›¡ï¸ **Role-Based Access Control** - à¹à¸šà¹ˆà¸‡à¸ªà¸´à¸—à¸˜à¸´à¹Œ admin/agent
  - `admin`: à¹€à¸‚à¹‰à¸²à¸–à¸¶à¸‡à¸—à¸¸à¸à¸­à¸¢à¹ˆà¸²à¸‡ + à¸ˆà¸±à¸”à¸à¸²à¸£ users + backup/restore
  - `agent`: à¸ˆà¸±à¸”à¸à¸²à¸£ programs à¹€à¸—à¹ˆà¸²à¸™à¸±à¹‰à¸™ (Programs, Requests, Import ICS, Credits, Events)
  - Defense in depth: PHP à¸‹à¹ˆà¸­à¸™ HTML + API à¸šà¸¥à¹‡à¸­à¸ role
  - à¸›à¹‰à¸­à¸‡à¸à¸±à¸™ lockout: à¸«à¹‰à¸²à¸¡à¸¥à¸šà¸•à¸±à¸§à¹€à¸­à¸‡, à¸«à¹‰à¸²à¸¡à¹€à¸›à¸¥à¸µà¹ˆà¸¢à¸™ role à¸•à¸±à¸§à¹€à¸­à¸‡, à¸•à¹‰à¸­à¸‡à¹€à¸«à¸¥à¸·à¸­à¸­à¸¢à¹ˆà¸²à¸‡à¸™à¹‰à¸­à¸¢ 1 admin
  - Migration script: `tools/migrate-add-role-column.php`
  - Helper functions: `get_admin_role()`, `is_admin_role()`, `require_admin_role()`, `require_api_admin_role()`
- ğŸ§ª **226 automated tests** (à¹€à¸à¸´à¹ˆà¸¡à¸ˆà¸²à¸ 207)

### v1.2.4 (2026-02-17)

- ğŸ” **Database-based Admin Authentication** - à¸¢à¹‰à¸²à¸¢ credentials à¸ˆà¸²à¸ config à¹€à¸‚à¹‰à¸² SQLite
  - à¸•à¸²à¸£à¸²à¸‡ `admin_users` à¸£à¸­à¸‡à¸£à¸±à¸šà¸«à¸¥à¸²à¸¢ admin users
  - Login: DB à¸à¹ˆà¸­à¸™ â†’ fallback config (backward compatible)
  - Migration script: `tools/migrate-add-admin-users-table.php`
- ğŸ”‘ **Change Password UI** - à¹€à¸›à¸¥à¸µà¹ˆà¸¢à¸™à¸£à¸«à¸±à¸ªà¸œà¹ˆà¸²à¸™à¸œà¹ˆà¸²à¸™ Admin panel
  - à¸›à¸¸à¹ˆà¸¡ "ğŸ”‘ Change Password" à¹ƒà¸™ header + modal form
  - API: `POST ?action=change_password`
- ğŸ› **Backup Delete Fix** - à¹à¸à¹‰à¹„à¸‚à¸¥à¸š backup à¸‚à¸¶à¹‰à¸™ "Invalid filename" (DELETEâ†’POST + JS variable scope fix)
- ğŸ§ª **207 automated tests** (à¹€à¸à¸´à¹ˆà¸¡à¸ˆà¸²à¸ 189)

### v1.2.3 (2026-02-17)

- ğŸ’¾ **Backup/Restore System** - à¸ªà¸³à¸£à¸­à¸‡/à¸à¸¹à¹‰à¸„à¸·à¸™à¸à¸²à¸™à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸œà¹ˆà¸²à¸™ Admin UI
  - Tab "ğŸ’¾ Backup" à¹ƒà¸™ Admin panel
  - à¸ªà¸£à¹‰à¸²à¸‡/download/restore/delete backup à¹„à¸Ÿà¸¥à¹Œ .db
  - Upload .db à¸ˆà¸²à¸à¹€à¸„à¸£à¸·à¹ˆà¸­à¸‡à¹€à¸à¸·à¹ˆà¸­ restore
  - Auto-backup à¸à¹ˆà¸­à¸™à¸—à¸¸à¸à¸à¸²à¸£ restore (safety net)
  - SQLite header validation + path traversal protection
- ğŸ“‚ **Database Directory Restructure** - à¸ˆà¸±à¸”à¹‚à¸„à¸£à¸‡à¸ªà¸£à¹‰à¸²à¸‡à¹ƒà¸«à¸¡à¹ˆ
  - `calendar.db` â†’ `data/calendar.db`
  - Backup files â†’ `backups/` directory
  - à¹ƒà¸Šà¹‰ `DB_PATH` constant à¹à¸—à¸™ hardcoded path à¸—à¸±à¹‰à¸‡à¸£à¸°à¸šà¸š
  - à¹€à¸à¸´à¹ˆà¸¡ `invalidate_all_caches()` à¹ƒà¸™ cache functions

### v1.2.1 (2026-02-12)

- ğŸ”— **Clean URL Rewrite** - à¸¥à¸š .php à¸ˆà¸²à¸ public URLs à¸à¸£à¹‰à¸­à¸¡ .htaccess à¹à¸¥à¸° nginx config
- ğŸ“… **Date Jump Bar** - à¹à¸–à¸š fixed-position à¸ªà¸³à¸«à¸£à¸±à¸šà¸à¸£à¸°à¹‚à¸”à¸”à¹„à¸›à¸§à¸±à¸™à¸—à¸µà¹ˆà¸•à¹‰à¸­à¸‡à¸à¸²à¸£
- ğŸ“¦ **ICS Import Event Selector** - à¹€à¸¥à¸·à¸­à¸ convention à¹€à¸›à¹‰à¸²à¸«à¸¡à¸²à¸¢à¹€à¸¡à¸·à¹ˆà¸­ import ICS
- ğŸ“‹ **Admin Credits Per-Event** - à¸à¸³à¸«à¸™à¸” credits à¹ƒà¸«à¹‰ convention à¹€à¸‰à¸à¸²à¸°à¹„à¸”à¹‰
- ğŸŒ **Complete i18n** - à¹à¸›à¸¥à¸ à¸²à¸©à¸²à¸„à¸£à¸šà¸—à¸¸à¸ element à¸£à¸§à¸¡ request modal (20 keys à¹ƒà¸«à¸¡à¹ˆ)
- ğŸ§ª **189 automated tests** (à¹€à¸à¸´à¹ˆà¸¡à¸ˆà¸²à¸ 187)

### v1.2.0 (2026-02-11)

- ğŸª **Multi-Event (Conventions) Support** - à¸£à¸­à¸‡à¸£à¸±à¸šà¸«à¸¥à¸²à¸¢à¸‡à¸²à¸™/conventions à¹ƒà¸™à¸£à¸°à¸šà¸šà¹€à¸”à¸µà¸¢à¸§
  - à¸•à¸²à¸£à¸²à¸‡ `events_meta` à¸ªà¸³à¸«à¸£à¸±à¸šà¹€à¸à¹‡à¸šà¸‚à¹‰à¸­à¸¡à¸¹à¸¥ convention (name, slug, dates, venue_mode, is_active)
  - Tab "Conventions" à¹ƒà¸™ Admin à¸ªà¸³à¸«à¸£à¸±à¸šà¸ˆà¸±à¸”à¸à¸²à¸£ CRUD
  - à¹€à¸¥à¸·à¸­à¸ Convention à¸œà¹ˆà¸²à¸™ URL `?event=slug` à¸«à¸£à¸·à¸­ dropdown
  - Convention dropdown à¹ƒà¸™ Event form à¸ªà¸³à¸«à¸£à¸±à¸šà¸£à¸°à¸šà¸¸ convention
  - Per-convention venue mode (multi/single)
  - Cache à¹à¸¢à¸à¸•à¸²à¸¡ convention
  - Backward compatible - à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¹€à¸”à¸´à¸¡à¸—à¸³à¸‡à¸²à¸™à¹„à¸”à¹‰à¹‚à¸”à¸¢à¹„à¸¡à¹ˆà¸•à¹‰à¸­à¸‡ migrate
  - Migration script: `tools/migrate-add-events-meta-table.php`
  - Config à¹ƒà¸«à¸¡à¹ˆ: `MULTI_EVENT_MODE`, `DEFAULT_EVENT_SLUG`
  - Helper functions: `get_current_event_slug()`, `get_event_by_slug()`, `get_event_id()`, `get_all_active_events()`, `get_event_venue_mode()`, `event_url()`
  - Admin API: `event_meta_list`, `event_meta_get`, `event_meta_create`, `event_meta_update`, `event_meta_delete`
  - Public API: action `events_list` + parameter `?event=slug` à¸ªà¸³à¸«à¸£à¸±à¸šà¸—à¸¸à¸ action
  - ICS Import: argument `--event=slug`
  - à¹€à¸à¸´à¹ˆà¸¡ 15 tests à¹ƒà¸«à¸¡à¹ˆ (à¸£à¸§à¸¡ 189 tests)

### v1.1.0 (2026-02-11)

- ğŸ³ **Docker Support** - Deploy à¸”à¹‰à¸§à¸¢ Docker Compose à¸„à¸³à¸ªà¸±à¹ˆà¸‡à¹€à¸”à¸µà¸¢à¸§
  - Dockerfile (PHP 8.1-apache à¸à¸£à¹‰à¸­à¸¡ PDO SQLite)
  - docker-compose.yml (Production) + docker-compose.dev.yml (Development)
  - Auto-import data à¹à¸¥à¸°à¸ªà¸£à¹‰à¸²à¸‡à¸•à¸²à¸£à¸²à¸‡à¸­à¸±à¸•à¹‚à¸™à¸¡à¸±à¸•à¸´
  - Health check, volume persistence, network isolation
  - à¸„à¸¹à¹ˆà¸¡à¸·à¸­à¸„à¸£à¸šà¸–à¹‰à¸§à¸™à¹ƒà¸™ [DOCKER.md](DOCKER.md)

- ğŸ“‹ **Credits Management System** - à¸ˆà¸±à¸”à¸à¸²à¸£ credits/references à¸œà¹ˆà¸²à¸™ admin panel
  - à¸à¸²à¸™à¸‚à¹‰à¸­à¸¡à¸¹à¸¥ SQLite à¸ªà¸³à¸«à¸£à¸±à¸šà¹€à¸à¹‡à¸š credits (title, link, description, display_order)
  - Admin UI - Tab "Credits" à¸à¸£à¹‰à¸­à¸¡ CRUD operations
  - Bulk operations - à¹€à¸¥à¸·à¸­à¸à¹à¸¥à¸°à¸¥à¸šà¸«à¸¥à¸²à¸¢ credits à¸à¸£à¹‰à¸­à¸¡à¸à¸±à¸™
  - Search, sort, à¹à¸¥à¸° pagination
  - à¸«à¸™à¹‰à¸² credits.php à¹‚à¸«à¸¥à¸”à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸ˆà¸²à¸ database à¹à¸—à¸™ hardcode

- ğŸ”„ **Cache System for Credits** - à¹€à¸à¸´à¹ˆà¸¡à¸›à¸£à¸°à¸ªà¸´à¸—à¸˜à¸´à¸ à¸²à¸à¸à¸²à¸£à¹‚à¸«à¸¥à¸”à¸«à¸™à¹‰à¸²
  - Cache credits data à¸”à¹‰à¸§à¸¢ TTL 1 à¸Šà¸±à¹ˆà¸§à¹‚à¸¡à¸‡
  - Auto-invalidate cache à¹€à¸¡à¸·à¹ˆà¸­à¸¡à¸µà¸à¸²à¸£à¹à¸à¹‰à¹„à¸‚
  - à¸¥à¸” database queries à¹à¸¥à¸°à¹€à¸à¸´à¹ˆà¸¡à¸„à¸§à¸²à¸¡à¹€à¸£à¹‡à¸§
  - Cache file: `cache/credits.json`

- ğŸ“¦ **Bulk Delete & Bulk Edit** - Admin à¸ªà¸²à¸¡à¸²à¸£à¸–à¸ˆà¸±à¸”à¸à¸²à¸£à¸«à¸¥à¸²à¸¢ events à¸à¸£à¹‰à¸­à¸¡à¸à¸±à¸™
  - Checkbox à¹€à¸¥à¸·à¸­à¸ events à¹à¸šà¸š multi-select à¸à¸£à¹‰à¸­à¸¡ master checkbox
  - Bulk Delete - à¸¥à¸šà¸«à¸¥à¸²à¸¢ events à¸à¸£à¹‰à¸­à¸¡à¸à¸±à¸™à¹„à¸”à¹‰à¸ªà¸¹à¸‡à¸ªà¸¸à¸” 100 à¸£à¸²à¸¢à¸à¸²à¸£
  - Bulk Edit - à¹à¸à¹‰à¹„à¸‚ Venue, Organizer, à¹à¸¥à¸° Categories à¸à¸£à¹‰à¸­à¸¡à¸à¸±à¸™
  - à¹à¸ªà¸”à¸‡ selection count à¹à¸¥à¸° bulk actions toolbar
  - Transaction handling à¹à¸¥à¸° partial failure support
  - Confirmation modals à¸à¸£à¹‰à¸­à¸¡ count display

- ğŸ“¤ **ICS Upload & Import** - à¸­à¸±à¸à¹‚à¸«à¸¥à¸”à¹„à¸Ÿà¸¥à¹Œ .ics à¸œà¹ˆà¸²à¸™ Admin UI
  - à¸­à¸±à¸à¹‚à¸«à¸¥à¸”à¹„à¸Ÿà¸¥à¹Œ .ics (à¸ªà¸¹à¸‡à¸ªà¸¸à¸” 5MB)
  - à¸•à¸£à¸§à¸ˆà¸ªà¸­à¸š file type à¹à¸¥à¸° MIME type
  - Preview events à¸à¹ˆà¸­à¸™ import
  - à¸•à¸£à¸§à¸ˆà¸ˆà¸±à¸š duplicates (à¹€à¸Šà¹‡à¸„à¸à¸±à¸š UIDs à¸—à¸µà¹ˆà¸¡à¸µà¸­à¸¢à¸¹à¹ˆ)
  - à¹€à¸¥à¸·à¸­à¸ insert/update/skip à¹à¸•à¹ˆà¸¥à¸° event
  - à¸šà¸±à¸™à¸—à¸¶à¸à¹„à¸Ÿà¸¥à¹Œà¸•à¹‰à¸™à¸‰à¸šà¸±à¸šà¹„à¸›à¹‚à¸Ÿà¸¥à¹€à¸”à¸­à¸£à¹Œ ics/ à¹„à¸”à¹‰

- ğŸ¯ **Flexible Venue Entry** - à¹€à¸à¸´à¹ˆà¸¡à¹€à¸§à¸—à¸µà¹ƒà¸«à¸¡à¹ˆà¹„à¸”à¹‰à¹‚à¸”à¸¢à¹„à¸¡à¹ˆà¸•à¹‰à¸­à¸‡à¸ˆà¸³à¸à¸±à¸”
  - à¹€à¸›à¸¥à¸µà¹ˆà¸¢à¸™à¸ˆà¸²à¸ `<select>` à¹€à¸›à¹‡à¸™ `<input>` + `<datalist>`
  - à¹à¸ªà¸”à¸‡ dropdown à¹à¸™à¸°à¸™à¸³à¹€à¸§à¸—à¸µà¸—à¸µà¹ˆà¸¡à¸µà¸­à¸¢à¸¹à¹ˆ
  - à¸ªà¸²à¸¡à¸²à¸£à¸–à¸à¸´à¸¡à¸à¹Œà¸Šà¸·à¹ˆà¸­à¹€à¸§à¸—à¸µà¹ƒà¸«à¸¡à¹ˆà¹„à¸”à¹‰à¹€à¸¥à¸¢
  - à¸£à¸­à¸‡à¸£à¸±à¸šà¸—à¸±à¹‰à¸‡ single event form à¹à¸¥à¸° bulk edit modal

- ğŸ“Š **Per-Page Selector** - à¹€à¸¥à¸·à¸­à¸à¸ˆà¸³à¸™à¸§à¸™à¸£à¸²à¸¢à¸à¸²à¸£à¸—à¸µà¹ˆà¹à¸ªà¸”à¸‡à¸•à¹ˆà¸­à¸«à¸™à¹‰à¸²
  - à¸•à¸±à¸§à¹€à¸¥à¸·à¸­à¸: 20, 50, 100 à¸£à¸²à¸¢à¸à¸²à¸£à¸•à¹ˆà¸­à¸«à¸™à¹‰à¸²
  - Auto-reset à¸à¸¥à¸±à¸šà¹„à¸›à¸«à¸™à¹‰à¸² 1 à¹€à¸¡à¸·à¹ˆà¸­à¹€à¸›à¸¥à¸µà¹ˆà¸¢à¸™à¸ˆà¸³à¸™à¸§à¸™
  - à¸—à¸³à¸‡à¸²à¸™à¸£à¹ˆà¸§à¸¡à¸à¸±à¸š filters, search, à¹à¸¥à¸° sort

- ğŸ¨ **Admin UI Improvements** - à¸›à¸£à¸±à¸šà¸›à¸£à¸¸à¸‡ admin interface
  - à¹€à¸›à¸¥à¸µà¹ˆà¸¢à¸™à¸˜à¸µà¸¡à¹€à¸›à¹‡à¸™ Professional Blue/Gray
  - Enhanced header à¸à¸£à¹‰à¸­à¸¡ gradient background
  - Tab navigation à¹à¸šà¸š cards
  - à¸›à¸£à¸±à¸šà¸ªà¸µà¹à¸¥à¸° contrast à¹€à¸à¸·à¹ˆà¸­à¸„à¸§à¸²à¸¡à¸­à¹ˆà¸²à¸™à¸‡à¹ˆà¸²à¸¢

- ğŸ”’ **Security Enhancements** - à¹€à¸à¸´à¹ˆà¸¡à¸„à¸§à¸²à¸¡à¸›à¸¥à¸­à¸”à¸ à¸±à¸¢à¹ƒà¸«à¹‰à¸à¸±à¸šà¸£à¸°à¸šà¸š
  - **XSS Protection**: Input sanitization functions (sanitize_string, sanitize_string_array, get_sanitized_param)
  - **CSRF Protection**: Token-based validation à¸ªà¸³à¸«à¸£à¸±à¸š POST/PUT/DELETE requests
  - **Session Security**: Session timeout (2 à¸Šà¸±à¹ˆà¸§à¹‚à¸¡à¸‡), timing attack prevention (hash_equals), session fixation prevention
  - **IP Whitelist**: à¸ˆà¸³à¸à¸±à¸” admin access à¸•à¸²à¸¡ IP/CIDR
  - **Secure Cookies**: httponly, secure, SameSite attributes
  - **Security Headers**: X-Content-Type-Options, X-Frame-Options, X-XSS-Protection, Referrer-Policy, Permissions-Policy
  - **JSON Security**: à¹ƒà¸Šà¹‰ JSON_HEX_* flags à¹à¸—à¸™ htmlspecialchars() à¸ªà¸³à¸«à¸£à¸±à¸š JSON à¹ƒà¸™ HTML attributes
  - **Race Condition Fix**: safe_session_start() à¸à¸£à¹‰à¸­à¸¡ session status check
  - **Configuration**: SESSION_TIMEOUT, IP Whitelist à¸•à¸±à¹‰à¸‡à¸„à¹ˆà¸²à¹„à¸”à¹‰à¹ƒà¸™ config/admin.php

- ğŸ§ª **Automated Test Suite** - 207 unit tests à¸„à¸£à¸­à¸šà¸„à¸¥à¸¸à¸¡à¸—à¸¸à¸ feature
  - Custom TestRunner framework (20 assertion methods)
  - 5 test suites: Security, Cache, AdminAuth, CreditsApi, Integration
  - CI/CD à¸”à¹‰à¸§à¸¢ GitHub Actions (PHP 8.1, 8.2, 8.3)
  - Quick test scripts à¸ªà¸³à¸«à¸£à¸±à¸š pre-commit

### v20260204-231000
- ğŸ“ **Request to Add/Modify Event** - à¸œà¸¹à¹‰à¹ƒà¸Šà¹‰à¸ªà¸²à¸¡à¸²à¸£à¸–à¸ªà¹ˆà¸‡à¸„à¸³à¸‚à¸­à¹€à¸à¸´à¹ˆà¸¡/à¹à¸à¹‰à¹„à¸‚ event à¹„à¸”à¹‰
  - à¸›à¸¸à¹ˆà¸¡ "ğŸ“ à¹à¸ˆà¹‰à¸‡à¹€à¸à¸´à¹ˆà¸¡ Event" à¸ªà¸³à¸«à¸£à¸±à¸šà¹à¸ˆà¹‰à¸‡à¹€à¸à¸´à¹ˆà¸¡ event à¹ƒà¸«à¸¡à¹ˆ
  - à¸›à¸¸à¹ˆà¸¡ "âœï¸" à¸—à¸µà¹ˆà¹à¸•à¹ˆà¸¥à¸° event à¹ƒà¸™à¸«à¸™à¹‰à¸²à¸£à¸²à¸¢à¸à¸²à¸£ à¸ªà¸³à¸«à¸£à¸±à¸šà¹à¸ˆà¹‰à¸‡à¹à¸à¹‰à¹„à¸‚
  - Modal form à¸à¸£à¹‰à¸­à¸¡ pre-fill à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸ˆà¸²à¸ event à¸—à¸µà¹ˆà¹€à¸¥à¸·à¸­à¸
  - Rate limiting (10 requests/à¸Šà¸±à¹ˆà¸§à¹‚à¸¡à¸‡/IP)
  - à¹€à¸à¹‡à¸šà¸‚à¹‰à¸­à¸¡à¸¹à¸¥: à¸Šà¸·à¹ˆà¸­à¸œà¸¹à¹‰à¹à¸ˆà¹‰à¸‡, email, à¸«à¸¡à¸²à¸¢à¹€à¸«à¸•à¸¸

- ğŸ‘¨â€ğŸ’¼ **Admin Request Management** - Admin à¸ªà¸²à¸¡à¸²à¸£à¸–à¸ˆà¸±à¸”à¸à¸²à¸£à¸„à¸³à¸‚à¸­à¹„à¸”à¹‰
  - Tab "Requests" à¹ƒà¸™ Admin UI à¸à¸£à¹‰à¸­à¸¡ badge à¹à¸ªà¸”à¸‡à¸ˆà¸³à¸™à¸§à¸™ pending
  - à¸›à¸¸à¹ˆà¸¡ "ğŸ‘ï¸ à¸”à¸¹" à¹€à¸à¸·à¹ˆà¸­à¸”à¸¹à¸£à¸²à¸¢à¸¥à¸°à¹€à¸­à¸µà¸¢à¸”à¸„à¸³à¸‚à¸­à¸—à¸±à¹‰à¸‡à¸«à¸¡à¸”
  - Modal à¹à¸ªà¸”à¸‡à¸‚à¹‰à¸­à¸¡à¸¹à¸¥ event à¸—à¸µà¹ˆà¸‚à¸­ + à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸œà¸¹à¹‰à¹à¸ˆà¹‰à¸‡ + à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸£à¸°à¸šà¸š
  - à¸›à¸¸à¹ˆà¸¡à¸­à¸™à¸¸à¸¡à¸±à¸•à¸´/à¸›à¸à¸´à¹€à¸ªà¸˜ à¸à¸£à¹‰à¸­à¸¡ auto-create/update event à¹€à¸¡à¸·à¹ˆà¸­à¸­à¸™à¸¸à¸¡à¸±à¸•à¸´
  - Filter by status (pending/approved/rejected)

- ğŸ”§ **Bug Fixes & Improvements**
  - à¹à¸à¹‰à¹„à¸‚ IcsParser à¹ƒà¸«à¹‰ return `id` field
  - à¹à¸à¹‰à¹„à¸‚ modal overflow - à¸£à¸­à¸‡à¸£à¸±à¸šà¸«à¸™à¹‰à¸²à¸ˆà¸­à¹€à¸¥à¹‡à¸ scroll à¹„à¸”à¹‰
  - à¹à¸à¹‰à¹„à¸‚ PHP compatibility (à¹ƒà¸Šà¹‰ anonymous function à¹à¸—à¸™ arrow function)

- ğŸ“ **à¹„à¸Ÿà¸¥à¹Œà¹ƒà¸«à¸¡à¹ˆ**
  - `api/request.php` - Public API à¸ªà¸³à¸«à¸£à¸±à¸šà¸ªà¹ˆà¸‡à¸„à¸³à¸‚à¸­
  - `tools/migrate-add-requests-table.php` - Migration script

### v20260204-020000
- ğŸ“Š **Horizontal Gantt Chart** - à¸›à¸£à¸±à¸š Timeline view à¹€à¸›à¹‡à¸™à¹à¸™à¸§à¸™à¸­à¸™à¹à¸šà¸š Gantt Chart à¸ˆà¸£à¸´à¸‡
  - à¹à¸à¸™ Y à¹à¸ªà¸”à¸‡à¹€à¸§à¸—à¸µ (venues)
  - à¹à¸à¸™ X à¹à¸ªà¸”à¸‡à¹€à¸§à¸¥à¸²
  - Event bars à¹à¸ªà¸”à¸‡ duration à¸•à¸²à¸¡à¸ˆà¸£à¸´à¸‡
  - à¹€à¸«à¹‡à¸™ overlap à¸‚à¸­à¸‡ events à¹ƒà¸™à¹€à¸§à¸—à¸µà¹€à¸”à¸µà¸¢à¸§à¸à¸±à¸™à¹„à¸”à¹‰à¸Šà¸±à¸”à¹€à¸ˆà¸™
  - Stack events à¸—à¸µà¹ˆà¸‹à¹‰à¸­à¸™à¸—à¸±à¸šà¸à¸±à¸™

### v20260204-010000
- âš™ï¸ **Admin UI** - à¹€à¸à¸´à¹ˆà¸¡à¸«à¸™à¹‰à¸² Admin à¸ªà¸³à¸«à¸£à¸±à¸šà¸ˆà¸±à¸”à¸à¸²à¸£ events
  - CRUD operations (Create, Read, Update, Delete)
  - à¸„à¹‰à¸™à¸«à¸²à¹à¸¥à¸°à¸à¸£à¸­à¸‡à¸•à¸²à¸¡à¹€à¸§à¸—à¸µ
  - Pagination
  - à¹ƒà¸Šà¹‰à¸‡à¸²à¸™à¸šà¸™ local network (à¹„à¸¡à¹ˆà¸¡à¸µ authentication)
  - à¸­à¸¢à¸¹à¹ˆà¹ƒà¸™ `/admin/` directory

### v20260203-230000
- ğŸ“Š **Vertical Gantt Chart** - à¸›à¸£à¸±à¸š Gantt Chart à¹€à¸›à¹‡à¸™à¹à¸™à¸§à¸•à¸±à¹‰à¸‡
  - à¸”à¸¹à¸‡à¹ˆà¸²à¸¢à¸šà¸™à¸¡à¸·à¸­à¸–à¸·à¸­ (scroll à¹à¸™à¸§à¸•à¸±à¹‰à¸‡à¹à¸—à¸™à¹à¸™à¸§à¸™à¸­à¸™)
  - à¹à¸ªà¸”à¸‡ events à¹€à¸£à¸µà¸¢à¸‡à¸•à¸²à¸¡à¹€à¸§à¸¥à¸² à¸à¸£à¹‰à¸­à¸¡à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¹€à¸§à¸—à¸µà¸„à¸£à¸šà¸–à¹‰à¸§à¸™
  - à¹ƒà¸Šà¹‰à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¹€à¸§à¸—à¸µà¸ˆà¸£à¸´à¸‡à¸ˆà¸²à¸ database (à¹„à¸¡à¹ˆ hardcode)

### v20260203-220000
- ğŸ“Š **Gantt Chart View** - à¹€à¸à¸´à¹ˆà¸¡à¸¡à¸¸à¸¡à¸¡à¸­à¸‡à¹„à¸—à¸¡à¹Œà¹„à¸¥à¸™à¹Œà¹à¸šà¸š Gantt Chart
  - à¹à¸ªà¸”à¸‡à¸«à¸¥à¸²à¸¢à¹€à¸§à¸—à¸µà¸à¸£à¹‰à¸­à¸¡à¸à¸±à¸™ à¸”à¸¹ time overlap à¹„à¸”à¹‰à¸‡à¹ˆà¸²à¸¢
  - Toggle switch à¸ªà¸¥à¸±à¸šà¸£à¸°à¸«à¸§à¹ˆà¸²à¸‡ List/Timeline view
  - Tooltip à¹à¸ªà¸”à¸‡à¸£à¸²à¸¢à¸¥à¸°à¹€à¸­à¸µà¸¢à¸”à¹€à¸¡à¸·à¹ˆà¸­ hover/click
  - à¸ˆà¸³ view mode à¹ƒà¸™ localStorage

### v20260203-210000
- ğŸ” à¸›à¸£à¸±à¸šà¸›à¸£à¸¸à¸‡à¸Šà¹ˆà¸­à¸‡à¸„à¹‰à¸™à¸«à¸²: Auto-select à¹€à¸¡à¸·à¹ˆà¸­à¸„à¸¥à¸´à¸ + à¸›à¸¸à¹ˆà¸¡ âœ• à¸¥à¹‰à¸²à¸‡à¸„à¹‰à¸™à¸«à¸²

### v20260203-200000
- ğŸŒ¸ à¹€à¸›à¸¥à¸µà¹ˆà¸¢à¸™à¸˜à¸µà¸¡à¹€à¸›à¹‡à¸™ Sakura (æ¡œ)
- ğŸ“¦ à¹à¸¢à¸ CSS/JS à¹€à¸›à¹‡à¸™à¹„à¸Ÿà¸¥à¹Œà¸à¸¥à¸²à¸‡ (`styles/`, `js/`)
- âš¡ Lazy-load html2canvas
- ğŸŒ html lang attribute à¸•à¸²à¸¡à¸ à¸²à¸©à¸²
- ğŸ”„ Cache busting à¸”à¹‰à¸§à¸¢ version
- ğŸ“ à¸¢à¹‰à¸²à¸¢ tools à¹„à¸›à¹‚à¸Ÿà¸¥à¹€à¸”à¸­à¸£à¹Œ `tools/`
- ğŸ—‘ à¸¥à¸šà¸›à¸¸à¹ˆà¸¡ "à¸à¸¥à¸±à¸š" à¸—à¸µà¹ˆà¸‹à¹‰à¸³à¸‹à¹‰à¸­à¸™

## ğŸ“ à¹ƒà¸šà¸­à¸™à¸¸à¸à¸²à¸•

Open Source - à¸™à¸³à¹„à¸›à¹ƒà¸Šà¹‰à¹à¸¥à¸°à¸›à¸£à¸±à¸šà¹à¸•à¹ˆà¸‡à¹„à¸”à¹‰à¸­à¸¢à¹ˆà¸²à¸‡à¸­à¸´à¸ªà¸£à¸°

---

ğŸŒ¸ **Idol Stage Timetable** - Idol Stage Event
